<!doctype html>

<html>
  <head>
  </head>

  <body>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/benchmark/1.0.0/benchmark.js"></script>

   <div id="parent">
    <ul>
      <li>
        <p>something <span>quite <strong>nested</strong></span></p>
        <p>something <span>quite <strong>nested</strong></span></p>
        <p>something <span>quite <strong>nested</strong></span></p>
      </li>
      <li>
        <p>something <span>quite <strong>nested</strong></span></p>
        <p>something <span>quite <strong>nested</strong></span></p>
        <p>something <span>quite <strong>nested</strong></span></p>
      </li>
      <li>
        <p>something <span>quite <strong>nested</strong></span></p>
        <p>something <span>quite <strong>nested</strong></span></p>
        <p>something <span>quite <strong>nested</strong></span></p>
      </li>
      <li>
        <p>something <span>quite <strong>nested</strong></span></p>
        <p>something <span>quite <strong>nested</strong></span></p>
        <p>something <span>quite <strong>nested</strong></span></p>
      </li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>
  </div>

    <script>

      // setup

      var parent = document.getElementById('parent');

        var els = [];
      var getChildren = function(el) {
        var children = el.children;

        for(var i = 0, l = children.length; i < l; i++) {
          var child = children[i];

          els.push(child);
          getChildren(child);
        }
      };

      var suite = new Benchmark.Suite;

      // add tests
      suite.add('querySelectorAll', function() {
        var allEls = parent.querySelectorAll('*');
      })
      .add('recursive js function', function(){
        els = [];
        getChildren(parent);
      })

      // run benchmarks
      // add listeners
      .on('cycle', function(event) {
        console.log(String(event.target));
      })
      .on('complete', function() {
        console.log('Slowest is ' + this.filter('slowest').pluck('name'));
        console.log('Fastest is ' + this.filter('fastest').pluck('name'));
      })
      // run async
      .run({ 'async': true });
    </script>
  </body>
</html>

